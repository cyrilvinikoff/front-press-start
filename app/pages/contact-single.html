<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Profil de :id</title>
        <link rel="stylesheet" href="../../css/style.min.css">
        <link href="https://fonts.googleapis.com/css?family=Lato:300i,400,700,900|Orbitron:400,500,700" rel="stylesheet">
    </head>
    <body>
        <section class="contact-single">

            <!-- SECTION INFORMATIONS -->
            <!-- HEADER -->
            <div class="contact-single__head">
                <!-- BACK TO CONTACT LIST -->
                <a href="/pages/contacts.html">
                    <img src="../img/back.png" alt="retour arrière">
                </a>
                <!-- NOM DU CONTACT -->
                <h1 class="contact-single__title">Karim Deschamps</h1>
            </div>
            <!-- BLOCS -->
            <ul>
                <li class="tab-item">Informations</li>
                <li class="tab-item">Réseaux sociaux</li>
            </ul>
            <form>
                    <div class="section section-informations">
                    <div class="contact-single__boxes">
                        <!-- FORMULAIRE -->
                        <div class="left-box">
                            <div class="contact-single__boxes__banner">
                                <h2>INFORMATIONS</h2>
                                <img src="../img/valid.svg" alt="modifier le formulaire">
                            </div>
                            <div class="contact-single__form__content">
                                <div class="contact-single__form__content__head">
                                    <!-- PHOTO CONTACT -->
                                    <figure>
                                        <img src="../img/king-Benzema.jpg" alt="Karim Deschamps"/>
                                    </figure>
                                    <div class="main-infos">
                                        <div>
                                            <!-- NOM CONTACT -->
                                            <div class="input-ctn">
                                                <label for="">NOM</label>
                                                <input class="input" type="text" placeholder="Saisissez le nom…">
                                            </div>
                                            <!-- PRENOM CONTACT -->
                                            <div class="input-ctn">
                                                <label for="">PRENOM</label>
                                                <input class="input" type="text" placeholder="Saisissez le prénom...">
                                            </div>
                                            <!-- POSTE CONTACT -->
                                            <div class="input-ctn">
                                                <label for="">POSTE</label>
                                                <input class="input" type="text" placeholder="Saisissez le poste…">
                                            </div>
                                        </div>
                                        <div>
                                            <span class="label label--blogger">Blogger</span>
                                            <span class="label label--independant">Indépendant</span>
                                            <a href="">
                                                <img class="add-tag" src="../img/ajouter-tag.svg" alt="ajouter un tag">
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <div class="contact-single__form__content__main">
                                    <!-- NOM CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">MOT DE PASSE</label>
                                        <input class="input" type="password" placeholder="Saisissez le mot de passe...">
                                    </div>

                                    <!-- NOM CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">NOUVEAU MOT DE PASSE</label>
                                        <input class="input" type="mail" placeholder="Saisissez le nouveau mot de passe...">
                                    </div>

                                    <!-- NOM CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">ADRESSE MAIL</label>
                                        <input class="input" type="mail" placeholder="Saisissez le mail...">
                                    </div>
                                    <!-- PRENOM CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">VILLE</label>
                                        <input class="input" type="text" placeholder="Saisissez la ville...">
                                    </div>
                                    <!-- POSTE CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">TELEPHONE MOBILE</label>
                                        <input class="input" type="tel" placeholder="Saisissez le numéro...">
                                    </div>
                                    <!-- POSTE CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">CODE POSTAL</label>
                                        <input class="input" type="text" placeholder="Saisissez le code postal...">
                                    </div>
                                    <!-- POSTE CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">TELEPHONE PRO</label>
                                        <input class="input" type="tel" placeholder="Saisissez le numéro...">
                                    </div>
                                    <!-- POSTE CONTACT -->
                                    <div class="input-ctn">
                                        <label for="">ADRESSE</label>
                                        <input class="input" type="text" placeholder="Saisissez l'adresse...">
                                    </div>
                                </div>

                                <div class="contact-single__form__content__consoles">
                                    <!-- contact CONSOLE(S) -->
                                    <span>CONSOLES</span>
                                    <div>
                                        <input type="checkbox" id="play">
                                        <label for="play" class="play"></label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="switch">
                                        <label for="switch" class="switch"></label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="xbox">
                                        <label for="xbox" class="xbox"></label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="pc">
                                        <label for="pc" class="pc"></label>
                                    </div>
                                </div>

                                <div class="contact-single__form__content__footer">
                                    <!-- POSTE SITE(S) -->
                                    <div class="input-ctn">
                                        <label for="">SITES WEB</label>
                                        <div class="inputs">

                                            <div class="input-wrapper">
                                                <input class="input" type="text" placeholder="Saisissez le site...">
                                                <a href="">
                                                    <img src="../img/open-link.svg" alt="ouvrir le lien">
                                                </a>
                                                <a href="">
                                                    <img src="../img/supprimer-lien.svg" alt="supprimer le lien">
                                                </a>
                                            </div>
                                        </div>
                                        <img class="add-site" src="../img/ajouter-tag.svg" alt="ajouter un site">
                                    </div>
                                </div>
                                <div class="profile-actions">
                                    <input type="button" class="edit-conf open-modal" value="Valider les modifications">
                                    <input type="button" class="delete-account open-modal" value="Supprimer ce compte">
                                    <a href="mailto:cyrilvinikoff@gmail.com">Envoyer un mail</a>
                                </div>
                            </div>
                        </div>

                        <!-- ASIDE BLOCS -->
                        <aside>
                            <div class="contact-single__boxes__banner">
                                <h2>NOTES</h2>
                            </div>
                            <!-- NOTES -->
                            <div class="contact-single__boxes__content">
                                <textarea name="" spellcheck="false">- Publicae senator publicae ille properat aliud quid fortuna hac publicae quid eximia tam vellet facere quid. - Ut ille rei facere tam ille ille tam hac facere ille ille ille rei. Publicae senator publicae ille properat aliud - Quid fortuna hac publicae quid eximia tam vellet facere quid ut ille rei facere tam ille ille tam hac facere ille ille ille rei.
                                </textarea>
                            </div>
                        </aside>
                    </div>
                </div>
            </form>

            <!-- SECTION SOCIALS -->
            <div class="section section-socials">
                <div class="section-socials__twitter">
                    <div class="head">
                        <img src="../img/twitter.png" alt="twitter">
                        <h4>Twitter</h4>
                        <span>
                            <a href="">@KB9</a>
                        </span>
                    </div>
                    <div class="twitter-block content">
                        <a class="twitter-timeline" href="https://twitter.com/as_monaco" data-tweet-limit="5" data-chrome="nofooter noheader noscrollbar" data-aria-polite="assertive" data-cards="hidden" target="_blank"></a>
                    </div>
                </div>
                <div class="section-socials__twitch">
                    <div class="head">
                        <img src="../img/twitch.png" alt="twitch">
                        <h4>Twitch</h4>
                        <span>
                            <a href="">@KB9</a>
                        </span>
                    </div>
                    <div class="content"></div>
                </div>
            </div>

            <!-- MODALES CONTACT -->
            <div class="modals-ctn">
                <!-- SUPPRESSION COMPTE -->
                <form class="modals-ctn__item modals-ctn__item--delete">
                    <h4>Suppression de compte</h4>
                    <p>Voulez-vous vraiment supprimer votre compte ? Cette action entraînera la suppression définitive de vos informations.</p>
                    <div>
                        <input class="btn btn--validate" type="button" value="Confirmer">
                        <!-- <input class="btn btn--warning" type="button" value="Annuler"> -->
                    </div>
                </form>

                <!-- AJOUT TAG -->
                <form class="modals-ctn__item modals-ctn__item--add-tag">
                    <h4>Ajouter un tag</h4>
                    <input type="text" placeholder="Saisissez le tag recherché…">
                    <div>
                        <input class="btn btn--validate" type="button" value="Ajouter le tag">
                    </div>
                </form>

            </div>
        </section>

        <script>
            window.twttr = (function (d, s, id) {
                var js,
                    fjs = d.getElementsByTagName(s)[0],
                    t = window.twttr || {};
                if (d.getElementById(id)) 
                    return t;
                js = d.createElement(s);
                js.id = id;
                js.src = "https://platform.twitter.com/widgets.js";
                fjs.parentNode.insertBefore(js, fjs);
                t._e = [];
                t.ready = function (f) {
                    t._e.push(f);
                };
                return t;
            }(document, "script", "twitter-wjs"));
        </script>

        <script>
            const userID = "https://api.twitch.tv/helix/users?login=twitch";

            /* FETCH USER ID */
            fetch(userID, {
                method: 'GET',
                headers: {
                    'Client-ID': 'ekg7suvjqbij033yfkb1sjt1aojyew'
                }
            })
                .then((resp) => resp.json())
                .then(function (results) {
                    let userID = results.data[0].id;
                    /* url to get VIDS */
                    const urlVid = "https://api.twitch.tv/helix/videos?user_id=" + userID;

                    /* FETCH VIDS */
                    fetch(urlVid, {
                        method: 'GET',
                        headers: {
                            'Client-ID': 'ekg7suvjqbij033yfkb1sjt1aojyew'
                        }
                    })
                        .then((resp) => resp.json())
                        .then(function (results) {
                            let resultsList = results.data;

                            for (let i = 0; i < 5; i++) {
                                let elem = resultsList[i];
                                const elemID = elem.id;
                                const elemUrl = "https://player.twitch.tv/?autoplay=false&video=v" + elemID;

                                var iframes = document.createElement("iframe");
                                iframes.setAttribute('src', elemUrl);

                                document.querySelector('.section-socials__twitch .content').appendChild(iframes);
                            }
                        })
                })
        </script>

        <script>
            var linkToModal = document.querySelector('.delete-account');
            var modalCtn = document.querySelector('.modals-ctn');
            var modalItem = document.querySelector('.modals-ctn__item--delete');
            var body = document.querySelector('body');

            linkToModal.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();

                modalCtn.classList.add('show');
                modalItem.classList.add('show');
            })

            modalItem.addEventListener('click', function (e) {
                e.stopPropagation();
            })

            document.querySelector('body').addEventListener('click', function (e) {
                e.preventDefault();

                modalCtn.classList.remove('show');
            })
        </script>

        <script>
            var tabItem = document.querySelectorAll('.tab-item');
            var sections = document.querySelectorAll('.section');

            console.log(tabItem);
            console.log(sections);

            for (let i = 0; i < tabItem.length; i++) {
                tabItem[i].addEventListener('click', function () {
                    for (var j = 0; j < sections.length; j++) {
                        //tabItem[j].style.display = 'none';
                        sections[j].style.display = 'none';
                    }
                    //tabItem[i].style.display = 'flex';
                    sections[i].style.display = 'flex'
                });
            }
        </script>
    </body>
</html>